<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>D&D: –¢–∞–π–Ω–∞ —à–∞—Ö—Ç—ã</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
  <h1 id="game-title">–¢–∞–π–Ω–∞ —É –∑–∞–±—Ä–æ—à–µ–Ω–Ω–æ–π —à–∞—Ö—Ç—ã</h1>

  <div id="story-container">
    <div id="story-text"></div>
  </div>

  <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ -->
  <div class="character-card-fixed">
    <div class="character-card">
      <!-- –û–±–ª–∞—Å—Ç—å –≤—ã–±–æ—Ä–∞ (–≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏, –≤–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–¥–µ–ª–µ–Ω–∞) -->
      <div class="choices-area"><div id="choices"></div></div>
      <div class="card-content-row">
        <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ò–º—è –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (40%) -->
        <div class="stats-column">
          <div class="player-name-row"><span class="player-icon">üë§</span><span id="char-name">–ì–µ—Ä–æ–π</span></div>
          <div class="stats-row-horizontal" id="stats-row-horizontal"></div>
        </div>
        <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ü—Ä–µ–¥–º–µ—Ç—ã –∏ –Ω–∞–≤—ã–∫–∏ (60%) -->
        <div class="abilities-column">
          <div class="abilities-panel" id="abilities"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- –ë–æ–π -->
  <div class="battle-area" id="battle-area" style="display:none">
    <div class="enemy-box">
      <div class="enemy-name" id="enemy-name"></div>
      <div class="enemy-hp">HP: <span id="enemy-hp"></span></div>
      <div class="status-effects" id="status-effects"></div>
    </div>
  </div>

  <!-- –ò—Å—Ç–æ—Ä–∏—è -->
  <!-- –£–¥–∞–ª–µ–Ω–æ: <div id="story-container"><div id="story-text"></div><div id="choices"></div></div> -->

  <!-- üîΩ –ü–∞–Ω–µ–ª—å DM: –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –Ω–µ–π—Ä–æ—Å–µ—Ç—å—é -->
  <div id="dm-panel">
    <details>
      <summary>ü§ñ –†–µ–∂–∏–º DM: –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –Ω–µ–π—Ä–æ—Å–µ—Ç—å—é</summary>
      
      <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ API -->
      <div class="api-settings">
        <h4>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ API</h4>
        <input type="text" id="api-key" placeholder="–í–≤–µ–¥–∏—Ç–µ API –∫–ª—é—á OpenRouter" style="width: 100%; padding: 8px; margin-bottom: 10px; background: #2a2a2a; color: #e0e0e0; border: 1px solid #555; border-radius: 4px;">
        
        <div class="model-selection">
          <label for="model-input" style="display: block; margin-bottom: 5px; color: #ccc;">–ú–æ–¥–µ–ª—å:</label>
          <input type="text" id="model-input" placeholder="deepseek/deepseek-chat-v3.1:free" style="width: 100%; padding: 8px; margin-bottom: 10px; background: #2a2a2a; color: #e0e0e0; border: 1px solid #555; border-radius: 4px;">
          <div class="model-hint" style="font-size: 0.8em; color: #888; margin-bottom: 10px;">
            –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏: deepseek/deepseek-chat-v3.1:free, meta-llama/llama-3.1-8b-instruct, mistralai/mistral-7b-instruct
          </div>
        </div>
        
        <button id="init-session" style="padding: 8px 16px; background: #4a5568; color: white; border: none; border-radius: 4px; cursor: pointer; margin-right: 10px;">üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏—é</button>
        <button id="load-scene" style="padding: 8px 16px; background: #00b894; color: white; border: none; border-radius: 4px; cursor: pointer;">üì• –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ü–µ–Ω—É</button>
      </div>

      <!-- –ö–æ–Ω—Å–æ–ª—å –ª–æ–≥–æ–≤ -->
      <div class="console-panel" style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #555;">
        <h4>–ö–æ–Ω—Å–æ–ª—å –ª–æ–≥–æ–≤</h4>
        <div id="console-logs" style="background: #1a1a1a; border: 1px solid #333; border-radius: 4px; padding: 10px; height: 200px; overflow-y: auto; font-family: 'Courier New', monospace; font-size: 0.8em; color: #ccc;">
          <div class="log-entry">–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ...</div>
        </div>
        <button id="clear-logs" style="margin-top: 10px; padding: 5px 10px; background: #666; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.8em;">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏</button>
      </div>
      
      <div id="api-status" style="margin-top: 10px; padding: 10px; background: #333; border-radius: 4px; min-height: 20px;"></div>
    </details>
  </div>

  <script src="game.js" defer></script>
</body>
</html>